#Do not edit -- this file documents how Postfix was built for your machine.
SYSTYPE = LINUX
AR      = ar
ARFL    = rv
RANLIB  = ranlib
SYSLIBS = -L/usr/lib -lnsl -lresolv
CC      = gcc $(WARN)
OPT     = -O
DEBUG   = -g
AWK     = awk
STRCASE =
EXPORT  =
WARN    = -Wall -W -Wformat -Wimplicit -Wmissing-prototypes \
        -Wparentheses -Wstrict-prototypes -Wswitch -Wuninitialized \
        -Wunused -Wno-strict-prototypes
SHELL   = /bin/sh

## TSFileLib objects gathering:
TSFileLib=ts_libmp4file.o ts_isom_stsd_box.o ts_bit_operation.o ts_list.o ts_data_resource.o

OBJS    = $(TSFileLib)
SRCS   := $(OBJS:.o=.c)
HDRS    =
DEFS    = -I. -D$(SYSTYPE) -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -D_LARGEFILE64_SOURCE
CFLAGS  = $(DEBUG) $(OPT) $(DEFS) $(INCS)
INCL    =
LIB     = libtsmp4file.a
TESTPROG=

#HTTP_DIR= ../../../httpd-2.0.54
LIBS    =
#INCS   = -I$(HTTP_DIR)/include -I$(HTTP_DIR)/os/unix -I$(HTTP_DIR)/srclib/apr/include -I$(HTTP_DIR)/srclib/apr-util/include -I ./include
INCS    = -I./
#.c.o:; $(CC) $(CFLAGS) -c $*.c
%.o: %.c
	$(CC) $(CFLAGS) -c -o $@ $<

all: $(LIB)

test:   $(TESTPROG)

$(LIB): $(OBJS)
	$(AR) $(ARFL) $(LIB) $?
	$(RANLIB) $(LIB)

lint:
	lint $(DEFS) $(SRCS) $(LINTFIX)

clean:
	rm -f *.o *~ $(LIB) *core $(TESTPROG) junk
	rm -f $(OBJS) $(LIB)

tidy:   clean

depend: $(MAKES)
	(sed '1,/^# do not edit/!d' Makefile; \
        set -e; for i in [a-z][a-z0-9]*.c; do \
            $(CC) -E $(DEFS) $(INCL) $$i | grep -v '[<>]' | sed -n -e '/^# *1 *"\([^"]*\)".*/{' \
            -e 's//'`echo $$i|sed 's/c$$/o/'`': \1/' -e 'p' -e '}'; \
        done) | grep -v '[.][o][:][ ][/]' >$$$$ && mv $$$$ Makefile

# do not edit below this line - it is generated by 'make depend'

